<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Array Cardio 💪💪</title>
  </head>
  <body>
    <p><em>Psst: have a look at the JavaScript Console</em> 💁</p>
    <script>
      // ## Array Cardio Day 2

      const people = [
        { name: 'Wes', year: 1988 },
        { name: 'Kait', year: 1986 },
        { name: 'Irv', year: 1970 },
        { name: 'Lux', year: 2015 },
      ];

      const comments = [
        { text: 'Love this!', id: 523423 },
        { text: 'Super good', id: 823423 },
        { text: 'You are the best', id: 2039842 },
        { text: 'Ramen is my fav food ever', id: 123523 },
        { text: 'Nice Nice Nice!', id: 542328 },
      ];

      // Some and Every Checks

      // Array.prototype.some() // is at least one person 19 or older?

      /* Notes on Comments:
      FIXME: I would change the single comments (//) to multi-line comments
      (like the ones that are being used in this comment). It helps developers
      understand that this is going to be a blocked comment that spans
      multiple lines.
      */

      // CJ's explanation
      // So from my understanding .some() goes through an array and checks if
      // any ONE of the elements inside the array match the parameter you set
      // in this case its if anyone is younger than 19

      /* Scott's explanation:
      I would say that is mostly correct. The .some() function returns a true or
      false for each element checked in the target array. If ONE of the iterations 
      has logic that results in true then .some() returns true. However, if ALL 
      of the iterations return false, then .some() returns false 
      */

      const isAdult = people.some(function(person) {
        //this line of code grabs the current year
        const currentYear = new Date().getFullYear();
        if (currentYear - person.year >= 19) {
          return true;
        }
      });
      console.log(isAdult);

      // This is the same solution but written a bit clearer like scott told you
      // You can return just the parameter and it will give you the same output

      // const isAdult = people.some(function(person) {
      //   const currentYear = new Date().getFullYear();
      //   return currentYear - person.year >= 19;
      // });
      // console.log(isAdult);

      // END OF .SOME()

      // START OF .EVERY()

      // Array.prototype.every() // is everyone 19 or older?

      // CJ's EXPLANATION
      // .every() is very similar to .some() except all elements in the array
      // must pass the criteria in order to return true

      /* Scott's explanation:
      Same explanation as .some(). It is not the element that passes the criteria,
      it is the dependent on the return statement when checking each element of the array.
      */

      const allAdults = people.every(function(person) {
        const currentYear = new Date().getFullYear();
        if (currentYear - person.year >= 19) {
          return true;
        }
      });
      console.log(allAdults);

      // END OF .EVERY()

      // START OF .find()
      // Array.prototype.find()
      // Find is like filter, but instead returns just the one you are looking for
      // find the comment with the ID of 823423

      // CJ'S EXPLANATION
      //.find will return just the first array element that matches your criteria pretty straight forward

      // const comment = comments.find(function(comment) {
      //   if (comment.id === 823423) {
      //     return true;
      //   }
      // });
      // console.log(comment);

      const comment = comments.find(comment => {
        return comment.id === 823423;
      });

      console.log(comment);
      // Array.prototype.findIndex()
      // Find the comment with this ID

      // CJ's EXPLANATION

      // .findIndex() is pretty self explanitory it will return the index number of the element that
      // fits the criteria, however will only find the first element that fits that criteria
      // will not find multiple element positions
      const index = comments.findIndex(comment => comment.id === 823423);
      console.log(index);

      // delete the comment with the ID of 823423

      // Splice is how you delete an item from an array, in this case
      // its using the index parameter and starting at position 1 again
      comments.splice(index, 1);
      // But using this isn't great practice its better to create a duplicate of the array
      // the ... are spreading which you need to do to some data types to make it into an array I'll
      // research this more...So I understand when to use the spreading but I'm still unsure of why I
      // need to use it

      /* Scott's explanation:
      Splice mutates the array. That means that it changes the data in memory and does not return
      something new

      Slice creates a copy of the removed portion of the array, but does not modify the original one.
      */
      const newComments = [
        ...comments.slice(0, index),
        ...comments.slice(index + 1),
      ];
    </script>
  </body>
</html>
